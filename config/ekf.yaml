ekf_filter_node:
  ros__parameters:
    frequency: 30.0
    sensor_timeout: 0.1
    two_d_mode: false
    transform_time_offset: 0.0
    transform_timeout: 0.0
    print_diagnostics: true
    debug: false
    debug_out_file: /path/to/debug/file.txt
    permit_corrected_publication: false
    publish_acceleration: false
    publish_tf: true

    map_frame: map
    odom_frame: odom
    base_link_frame: robot_center
    world_frame: odom

    # Odometry input
    odom0: /odom
    odom0_config: [true,  true,  true,     # x, y, z
                   false, false, true,    # roll, pitch, yaw
                   true, true, true,      # vx, vy, vz
                   false, false, true,    # vroll, vpitch, vyaw
                   false, false, false]   # ax, ay, az
    odom0_queue_size: 5
    odom0_differential: false
    odom0_relative: true
    odom0_pose_use_child_frame: false
    odom0_pose_rejection_threshold: 5.0
    odom0_twist_rejection_threshold: 1.0

    # IMU input
    imu0: /dog_imu_raw
    imu0_config: [false, false, false,  # x, y, z
                  true, true, true,     # roll, pitch, yaw
                  false, false, false,  # vx, vy, vz
                  true, true, true,     # vroll, vpitch, vyaw
                  false, false, false]  # ax, ay, az
    imu0_differential: false
    imu0_relative: true
    imu0_queue_size: 5
    imu0_pose_rejection_threshold: 0.8
    imu0_twist_rejection_threshold: 0.8
    imu0_linear_acceleration_rejection_threshold: 1000.0
    imu0_remove_gravitational_acceleration: true

    imu0_orientation_covariance: [0.02, 0.0, 0.0,
                                  0.0, 0.02, 0.0,
                                  0.0, 0.0, 0.05]
    imu0_angular_velocity_covariance: [0.01, 0.0, 0.0,
                                       0.0, 0.01, 0.0,
                                       0.0, 0.0, 0.02]
    imu0_linear_acceleration_covariance: [1000.0, 0.0, 0.0,
                                          0.0, 1000.0, 0.0,
                                          0.0, 0.0, 1000.0]

    # Control input (optional)
    use_control: false
    stamped_control: true
    control_timeout: 0.2
    control_config: [true, false, false, false, false, true]
    acceleration_limits: [1.3, 0.0, 0.0, 0.0, 0.0, 3.4]
    deceleration_limits: [1.3, 0.0, 0.0, 0.0, 0.0, 4.5]
    acceleration_gains: [0.8, 0.0, 0.0, 0.0, 0.0, 0.9]
    deceleration_gains: [1.0, 0.0, 0.0, 0.0, 0.0, 1.0]

    # Process noise covariance
    process_noise_covariance:
      [0.01, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,
       0.0, 0.01, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,
       0.0, 0.0, 0.01,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,
       0.0, 0.0, 0.0,    0.01, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,
       0.0, 0.0, 0.0,    0.0, 0.01, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,
       0.0, 0.0, 0.0,    0.0, 0.0, 0.01,   0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,
       0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.1, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,
       0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.1, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,
       0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.1,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,
       0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.01, 0.0, 0.0,    0.0, 0.0, 0.0,
       0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.01, 0.0,    0.0, 0.0, 0.0,
       0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.01,   0.0, 0.0, 0.0,
       0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.1, 0.0, 0.0,
       0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.1, 0.0,
       0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.0,    0.0, 0.0, 0.1]

    initial_estimate_covariance: [1.0, 1.0, 1.0,
                                  0.5, 0.5, 0.5,
                                  1.0, 1.0, 1.0,
                                  0.5, 0.5, 0.5,
                                  1.0, 1.0, 1.0]


